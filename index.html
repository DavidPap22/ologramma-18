<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <title>Ologramma AR</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
  <script src="https://cdn.rawgit.com/AR-js-org/AR.js/3.3.2/aframe/build/aframe-ar.js"></script>
</head>
<body>

<!-- Overlay iniziale -->
<div id="overlay">
  <h1>Ologramma 18 anni Davide</h1>
  <p>tocca lo schermo per sbloccare<span id="dots">...</span></p>
</div>

<!-- Loghi finali -->
<img id="logoReplay" src="replay.png" alt="Replay">
<img id="logoWhatsApp" src="whatsapp.png" alt="WhatsApp">

<!-- Musica -->
<audio id="bgMusic" src="musica.mp3" loop></audio>

<!-- Video ologramma -->
<video id="my-video" src="video-demo.webm" loop="false" preload="auto" playsinline webkit-playsinline></video>

<!-- Scena A-Frame -->
<a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false; detectionMode: mono_and_matrix; matrixCodeType: 3x3;">
  <!-- Camera AR -->
  <a-entity camera position="0 0 0"></a-entity>

  <!-- Marker -->
  <a-marker id="marker" type="pattern" url="qr-marker.pat">
    
    <!-- Video plane -->
    <a-plane id="videoPlane" visible="false" position="0 0 0" rotation="-90 0 0"
             width="1" height="0.56"
             material="shader: flat; src: #my-video; transparent: true; side:double">
    </a-plane>

    <!-- Oggetti fluttuanti -->
    <a-entity id="tromba" gltf-model="#trombaModel" position="0.3 0 0" scale="0.2 0.2 0.2" visible="false"></a-entity>
    <a-entity id="donBosco" gltf-model="#donBoscoModel" position="-0.3 0 0" scale="0.2 0.2 0.2" visible="false"></a-entity>

    <!-- Particelle/fumo rosso -->
    <a-entity particle-system="preset: dust; color: #ff0000, #ff4444; particleCount: 200; size: 0.05; positionSpread: 0.5 0.5 0.5;"></a-entity>
  </a-marker>
</a-scene>

<script src="script.js"></script>
</body>
</html>